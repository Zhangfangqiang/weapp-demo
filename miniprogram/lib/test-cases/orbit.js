const registerOrbit=e=>{const{EventDispatcher:t,MOUSE:re,Quaternion:ce,Spherical:le,TOUCH:ue,Vector2:me,Vector3:fe}=e;var a=function(e,t){if(t===undefined)console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.');if(t===document)console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');this.object=e;this.domElement=t;this.enabled=true;this.target=new fe;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=false;this.dampingFactor=.05;this.enableZoom=true;this.zoomSpeed=1;this.enableRotate=true;this.rotateSpeed=1;this.enablePan=true;this.panSpeed=1;this.screenSpacePanning=false;this.keyPanSpeed=7;this.autoRotate=false;this.autoRotateSpeed=2;this.enableKeys=true;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={LEFT:re.ROTATE,MIDDLE:re.DOLLY,RIGHT:re.PAN};this.touches={ONE:ue.ROTATE,TWO:ue.DOLLY_PAN};this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this.getPolarAngle=function(){return f.phi};this.getAzimuthalAngle=function(){return f.theta};this.saveState=function(){r.target0.copy(r.target);r.position0.copy(r.object.position);r.zoom0=r.object.zoom};this.reset=function(){r.target.copy(r.target0);r.object.position.copy(r.position0);r.object.zoom=r.zoom0;r.object.updateProjectionMatrix();r.dispatchEvent(c);r.update();u=l.NONE};this.update=function(){var a=new fe;var n=(new ce).setFromUnitVectors(e.up,new fe(0,1,0));var o=n.clone().inverse();var s=new fe;var i=new ce;return function e(){var t=r.object.position;a.copy(t).sub(r.target);a.applyQuaternion(n);f.setFromVector3(a);if(r.autoRotate&&u===l.NONE){A(P())}if(r.enableDamping){f.theta+=h.theta*r.dampingFactor;f.phi+=h.phi*r.dampingFactor}else{f.theta+=h.theta;f.phi+=h.phi}f.theta=Math.max(r.minAzimuthAngle,Math.min(r.maxAzimuthAngle,f.theta));f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi));f.makeSafe();f.radius*=p;f.radius=Math.max(r.minDistance,Math.min(r.maxDistance,f.radius));if(r.enableDamping===true){r.target.addScaledVector(d,r.dampingFactor)}else{r.target.add(d)}a.setFromSpherical(f);a.applyQuaternion(o);t.copy(r.target).add(a);r.object.lookAt(r.target);if(r.enableDamping===true){h.theta*=1-r.dampingFactor;h.phi*=1-r.dampingFactor;d.multiplyScalar(1-r.dampingFactor)}else{h.set(0,0,0);d.set(0,0,0)}p=1;if(b||s.distanceToSquared(r.object.position)>m||8*(1-i.dot(r.object.quaternion))>m){r.dispatchEvent(c);s.copy(r.object.position);i.copy(r.object.quaternion);b=false;return true}return false}}();this.dispose=function(){r.domElement.removeEventListener("contextmenu",ie,false);r.domElement.removeEventListener("mousedown",J,false);r.domElement.removeEventListener("wheel",te,false);r.domElement.removeEventListener("touchstart",ne,false);r.domElement.removeEventListener("touchend",se,false);r.domElement.removeEventListener("touchmove",oe,false);document.removeEventListener("mousemove",$,false);document.removeEventListener("mouseup",ee,false);r.domElement.removeEventListener("keydown",ae,false)};var r=this;var c={type:"change"};var a={type:"start"};var n={type:"end"};var l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};var u=l.NONE;var m=1e-6;var f=new le;var h=new le;var p=1;var d=new fe;var b=false;var o=new me;var s=new me;var i=new me;var v=new me;var E=new me;var g=new me;var O=new me;var y=new me;var T=new me;function P(){return 2*Math.PI/60/60*r.autoRotateSpeed}function L(){return Math.pow(.95,r.zoomSpeed)}function A(e){h.theta-=e}function N(e){h.phi-=e}var j=function(){var n=new fe;return function e(t,a){n.setFromMatrixColumn(a,0);n.multiplyScalar(-t);d.add(n)}}();var w=function(){var n=new fe;return function e(t,a){if(r.screenSpacePanning===true){n.setFromMatrixColumn(a,1)}else{n.setFromMatrixColumn(a,0);n.crossVectors(r.object.up,n)}n.multiplyScalar(t);d.add(n)}}();var R=function(){var i=new fe;return function e(t,a){var n=r.domElement;if(r.object.isPerspectiveCamera){var o=r.object.position;i.copy(o).sub(r.target);var s=i.length();s*=Math.tan(r.object.fov/2*Math.PI/180);j(2*t*s/n.clientHeight,r.object.matrix);w(2*a*s/n.clientHeight,r.object.matrix)}else if(r.object.isOrthographicCamera){j(t*(r.object.right-r.object.left)/r.object.zoom/n.clientWidth,r.object.matrix);w(a*(r.object.top-r.object.bottom)/r.object.zoom/n.clientHeight,r.object.matrix)}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.");r.enablePan=false}}}();function k(e){if(r.object.isPerspectiveCamera){p/=e}else if(r.object.isOrthographicCamera){r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*e));r.object.updateProjectionMatrix();b=true}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");r.enableZoom=false}}function Y(e){if(r.object.isPerspectiveCamera){p*=e}else if(r.object.isOrthographicCamera){r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/e));r.object.updateProjectionMatrix();b=true}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");r.enableZoom=false}}function D(e){o.set(e.clientX,e.clientY)}function M(e){O.set(e.clientX,e.clientY)}function x(e){v.set(e.clientX,e.clientY)}function S(e){s.set(e.clientX,e.clientY);i.subVectors(s,o).multiplyScalar(r.rotateSpeed);var t=r.domElement;A(2*Math.PI*i.x/t.clientHeight);N(2*Math.PI*i.y/t.clientHeight);o.copy(s);r.update()}function C(e){y.set(e.clientX,e.clientY);T.subVectors(y,O);if(T.y>0){k(L())}else if(T.y<0){Y(L())}O.copy(y);r.update()}function H(e){E.set(e.clientX,e.clientY);g.subVectors(E,v).multiplyScalar(r.panSpeed);R(g.x,g.y);v.copy(E);r.update()}function I(){}function z(e){if(e.deltaY<0){Y(L())}else if(e.deltaY>0){k(L())}r.update()}function X(e){var t=false;switch(e.keyCode){case r.keys.UP:R(0,r.keyPanSpeed);t=true;break;case r.keys.BOTTOM:R(0,-r.keyPanSpeed);t=true;break;case r.keys.LEFT:R(r.keyPanSpeed,0);t=true;break;case r.keys.RIGHT:R(-r.keyPanSpeed,0);t=true;break}if(t){e.preventDefault();r.update()}}function _(e){if(e.touches.length==1){o.set(e.touches[0].pageX,e.touches[0].pageY)}else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX);var a=.5*(e.touches[0].pageY+e.touches[1].pageY);o.set(t,a)}}function Z(e){if(e.touches.length==1){v.set(e.touches[0].pageX,e.touches[0].pageY)}else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX);var a=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,a)}}function F(e){var t=e.touches[0].pageX-e.touches[1].pageX;var a=e.touches[0].pageY-e.touches[1].pageY;var n=Math.sqrt(t*t+a*a);O.set(0,n)}function U(e){if(r.enableZoom)F(e);if(r.enablePan)Z(e)}function V(e){if(r.enableZoom)F(e);if(r.enableRotate)_(e)}function B(e){if(e.touches.length==1){s.set(e.touches[0].pageX,e.touches[0].pageY)}else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX);var a=.5*(e.touches[0].pageY+e.touches[1].pageY);s.set(t,a)}i.subVectors(s,o).multiplyScalar(r.rotateSpeed);var n=r.domElement;A(2*Math.PI*i.x/n.clientHeight);N(2*Math.PI*i.y/n.clientHeight);o.copy(s)}function G(e){if(e.touches.length==1){E.set(e.touches[0].pageX,e.touches[0].pageY)}else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX);var a=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(t,a)}g.subVectors(E,v).multiplyScalar(r.panSpeed);R(g.x,g.y);v.copy(E)}function K(e){var t=e.touches[0].pageX-e.touches[1].pageX;var a=e.touches[0].pageY-e.touches[1].pageY;var n=Math.sqrt(t*t+a*a);y.set(0,n);T.set(0,Math.pow(y.y/O.y,r.zoomSpeed));k(T.y);O.copy(y)}function W(e){if(r.enableZoom)K(e);if(r.enablePan)G(e)}function q(e){if(r.enableZoom)K(e);if(r.enableRotate)B(e)}function Q(){}function J(e){if(r.enabled===false)return;e.preventDefault();r.domElement.focus?r.domElement.focus():window.focus();var t;switch(e.button){case 0:t=r.mouseButtons.LEFT;break;case 1:t=r.mouseButtons.MIDDLE;break;case 2:t=r.mouseButtons.RIGHT;break;default:t=-1}switch(t){case re.DOLLY:if(r.enableZoom===false)return;M(e);u=l.DOLLY;break;case re.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(r.enablePan===false)return;x(e);u=l.PAN}else{if(r.enableRotate===false)return;D(e);u=l.ROTATE}break;case re.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(r.enableRotate===false)return;D(e);u=l.ROTATE}else{if(r.enablePan===false)return;x(e);u=l.PAN}break;default:u=l.NONE}if(u!==l.NONE){document.addEventListener("mousemove",$,false);document.addEventListener("mouseup",ee,false);r.dispatchEvent(a)}}function $(e){if(r.enabled===false)return;e.preventDefault();switch(u){case l.ROTATE:if(r.enableRotate===false)return;S(e);break;case l.DOLLY:if(r.enableZoom===false)return;C(e);break;case l.PAN:if(r.enablePan===false)return;H(e);break}}function ee(e){if(r.enabled===false)return;I(e);document.removeEventListener("mousemove",$,false);document.removeEventListener("mouseup",ee,false);r.dispatchEvent(n);u=l.NONE}function te(e){if(r.enabled===false||r.enableZoom===false||u!==l.NONE&&u!==l.ROTATE)return;e.preventDefault();e.stopPropagation();r.dispatchEvent(a);z(e);r.dispatchEvent(n)}function ae(e){if(r.enabled===false||r.enableKeys===false||r.enablePan===false)return;X(e)}function ne(e){if(r.enabled===false)return;e.preventDefault();switch(e.touches.length){case 1:switch(r.touches.ONE){case ue.ROTATE:if(r.enableRotate===false)return;_(e);u=l.TOUCH_ROTATE;break;case ue.PAN:if(r.enablePan===false)return;Z(e);u=l.TOUCH_PAN;break;default:u=l.NONE}break;case 2:switch(r.touches.TWO){case ue.DOLLY_PAN:if(r.enableZoom===false&&r.enablePan===false)return;U(e);u=l.TOUCH_DOLLY_PAN;break;case ue.DOLLY_ROTATE:if(r.enableZoom===false&&r.enableRotate===false)return;V(e);u=l.TOUCH_DOLLY_ROTATE;break;default:u=l.NONE}break;default:u=l.NONE}if(u!==l.NONE){r.dispatchEvent(a)}}function oe(e){if(r.enabled===false)return;e.preventDefault();e.stopPropagation();switch(u){case l.TOUCH_ROTATE:if(r.enableRotate===false)return;B(e);r.update();break;case l.TOUCH_PAN:if(r.enablePan===false)return;G(e);r.update();break;case l.TOUCH_DOLLY_PAN:if(r.enableZoom===false&&r.enablePan===false)return;W(e);r.update();break;case l.TOUCH_DOLLY_ROTATE:if(r.enableZoom===false&&r.enableRotate===false)return;q(e);r.update();break;default:u=l.NONE}}function se(e){if(r.enabled===false)return;Q(e);r.dispatchEvent(n);u=l.NONE}function ie(e){if(r.enabled===false)return;e.preventDefault()}r.domElement.addEventListener("contextmenu",ie,false);r.domElement.addEventListener("mousedown",J,false);r.domElement.addEventListener("wheel",te,false);r.domElement.addEventListener("touchstart",ne,false);r.domElement.addEventListener("touchend",se,false);r.domElement.addEventListener("touchmove",oe,false);r.domElement.addEventListener("keydown",ae,false);if(r.domElement.tabIndex===-1){r.domElement.tabIndex=0}this.update()};a.prototype=Object.create(t.prototype);a.prototype.constructor=a;var n=function(e,t){a.call(this,e,t);this.mouseButtons.LEFT=re.PAN;this.mouseButtons.RIGHT=re.ROTATE;this.touches.ONE=ue.PAN;this.touches.TWO=ue.DOLLY_ROTATE};n.prototype=Object.create(t.prototype);n.prototype.constructor=n;return{OrbitControls:a,MapControls:n}};export default registerOrbit;